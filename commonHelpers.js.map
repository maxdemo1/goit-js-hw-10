{"version":3,"file":"commonHelpers.js","sources":["../src/js/01-timer.js"],"sourcesContent":["const timer = document.querySelector('.timer');\nconst days = timer.querySelector('[data-days]');\nconst hours = timer.querySelector('[data-hours]');\nconst minutes = timer.querySelector('[data-minutes]');\nconst seconds = timer.querySelector('[data-seconds]');\nconst startButton = document.querySelector('[data-start]');\n\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nlet userDate;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userDate = selectedDates[0];\n    timerCheck();\n  },\n};\n\nflatpickr('#datetime-picker', options);\nconst timerCheck = () => {\n  const presentDate = new Date();\n  if (presentDate.getTime() < userDate.getTime()) {\n    startButton.removeAttribute('disabled');\n    startButton.addEventListener('click', timerTry);\n  } else {\n    iziToast.error({\n      title: 'Caution',\n      message: 'Please choose a date in the future',\n      position: 'topRight',\n    });\n  }\n};\n\nfunction timerTry() {\n  // startButton.setAttribute('disabled', 'true');\n  const presentDate = new Date();\n  const dateDivider = {\n    days(timeDifference) {\n      return timeDifference / 1000 / 60 / 60 / 24;\n    },\n    hours(timeDifference) {\n      return (this.days(timeDifference) % 1) * 24;\n    },\n    minutes(timeDifference) {\n      return (this.hours(timeDifference) % 1) * 60;\n    },\n    seconds(timeDifference) {\n      return (this.minutes(timeDifference) % 1) * 60;\n    },\n  };\n  const customTime = () => {\n    const nowDate = new Date();\n    let timeDifference = userDate.getTime() - nowDate.getTime();\n    if (timeDifference < 0) {\n      days.textContent = '00';\n      hours.textContent = '00';\n      minutes.textContent = '00';\n      seconds.textContent = '00';\n      startButton.removeEventListener('click', timerTry);\n      startButton.setAttribute('disabled', 'true');\n      return;\n    }\n\n    days.textContent = `${Math.floor(\n      dateDivider.days(timeDifference)\n    )}`.padStart(2, '0');\n\n    hours.textContent = `${Math.floor(\n      dateDivider.hours(timeDifference)\n    )}`.padStart(2, '0');\n    minutes.textContent = `${Math.floor(\n      dateDivider.minutes(timeDifference)\n    )}`.padStart(2, '0');\n    seconds.textContent = `${Math.floor(\n      dateDivider.seconds(timeDifference)\n    )}`.padStart(2, '0');\n  };\n\n  const letsGo = setInterval(customTime, 1000);\n  const stop = setTimeout(() => {\n    clearInterval(letsGo);\n    startButton.removeEventListener('click', timerTry);\n    startButton.setAttribute('disabled', 'true');\n  }, userDate.getTime() - presentDate.getTime());\n}\n"],"names":["timer","days","hours","minutes","seconds","startButton","userDate","options","selectedDates","timerCheck","flatpickr","timerTry","presentDate","dateDivider","timeDifference","letsGo","nowDate"],"mappings":"oGAAA,MAAMA,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAOD,EAAM,cAAc,aAAa,EACxCE,EAAQF,EAAM,cAAc,cAAc,EAC1CG,EAAUH,EAAM,cAAc,gBAAgB,EAC9CI,EAAUJ,EAAM,cAAc,gBAAgB,EAC9CK,EAAc,SAAS,cAAc,cAAc,EAIzD,IAAIC,EACJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAWE,EAAc,GACzBC,GACD,CACH,EAEAC,EAAU,mBAAoBH,CAAO,EACrC,MAAME,EAAa,IAAM,CACH,IAAI,OACR,QAAO,EAAKH,EAAS,QAAO,GAC1CD,EAAY,gBAAgB,UAAU,EACtCA,EAAY,iBAAiB,QAASM,CAAQ,GAE9C,SAAS,MAAM,CACb,MAAO,UACP,QAAS,qCACT,SAAU,UAChB,CAAK,CAEL,EAEA,SAASA,GAAW,CAElB,MAAMC,EAAc,IAAI,KAClBC,EAAc,CAClB,KAAKC,EAAgB,CACnB,OAAOA,EAAiB,IAAO,GAAK,GAAK,EAC1C,EACD,MAAMA,EAAgB,CACpB,OAAQ,KAAK,KAAKA,CAAc,EAAI,EAAK,EAC1C,EACD,QAAQA,EAAgB,CACtB,OAAQ,KAAK,MAAMA,CAAc,EAAI,EAAK,EAC3C,EACD,QAAQA,EAAgB,CACtB,OAAQ,KAAK,QAAQA,CAAc,EAAI,EAAK,EAC7C,CACL,EA6BQC,EAAS,YA5BI,IAAM,CACvB,MAAMC,EAAU,IAAI,KACpB,IAAIF,EAAiBR,EAAS,QAAS,EAAGU,EAAQ,QAAO,EACzD,GAAIF,EAAiB,EAAG,CACtBb,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtBC,EAAY,oBAAoB,QAASM,CAAQ,EACjDN,EAAY,aAAa,WAAY,MAAM,EAC3C,MACD,CAEDJ,EAAK,YAAc,GAAG,KAAK,MACzBY,EAAY,KAAKC,CAAc,CAChC,IAAG,SAAS,EAAG,GAAG,EAEnBZ,EAAM,YAAc,GAAG,KAAK,MAC1BW,EAAY,MAAMC,CAAc,CACjC,IAAG,SAAS,EAAG,GAAG,EACnBX,EAAQ,YAAc,GAAG,KAAK,MAC5BU,EAAY,QAAQC,CAAc,CACnC,IAAG,SAAS,EAAG,GAAG,EACnBV,EAAQ,YAAc,GAAG,KAAK,MAC5BS,EAAY,QAAQC,CAAc,CACnC,IAAG,SAAS,EAAG,GAAG,CACvB,EAEyC,GAAI,EAC9B,WAAW,IAAM,CAC5B,cAAcC,CAAM,EACpBV,EAAY,oBAAoB,QAASM,CAAQ,EACjDN,EAAY,aAAa,WAAY,MAAM,CAC5C,EAAEC,EAAS,QAAO,EAAKM,EAAY,QAAO,CAAE,CAC/C"}